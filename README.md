# Git за полчаса: руководство для начинающих
В последние годы популярность `git` демонстрирует взрывной рост. Эта система контроля версий используется различными проектами с открытым исходным кодом.

Можно начать с изучения наиболее часто используемых команд, и после этого постепенно расширять свои знания.

## Основы
`Git` — это набор консольных утилит, которые отслеживают и фиксируют изменения в файлах. С его помощью вы можете сравнивать, анализировать, редактировать, сливать изменения и возвращаться назад к последнему сохранению. Этот процесс называется контролем версий.

**Для чего он нужен?** 

Ну во-первых, чтобы отследить изменения, произошедшие с проектом, со временем. Проще говоря, мы можем посмотреть как менялись файлы программы, на всех этапах разработки и при необходимости вернуться назад и что-то отредактировать.

Во-вторых, он чрезвычайно полезен при одновременной работе нескольких специалистов над одним проектом. Git является распределенным, то есть не зависит от одного центрального сервера, на котором хранятся файлы. Вместо этого он работает полностью локально, сохраняя данные в директориях на жестком диске, которые называются репозиторием. Тем не менее, вы можете хранить копию репозитория онлайн, это сильно облегчает работу над одним проектом для нескольких людей. Для этого используются сайты вроде `github` и `bitbucket`.

## Настройка
Откройте терминал и запустите команды:

`git config --global user.name "My Name"`

`git config --global user.email myEmail@example.com`

Теперь каждое действие будет отмечено именем и почтой. Таким образом, пользователи всегда будут в курсе, кто отвечает за какие изменения.

## Создание нового репозитория
Чтобы создать новый репозиторий, необходимо открыть терминал, зайти в папку проекта и выполнить команду `init`.  Это включит приложение в этой конкретной папке и создаст скрытую директорию `.git`, где будет храниться история репозитория и настройки.

## Определение состояния
`status` — это еще одна важнейшая команда, которая показывает информацию о текущем состоянии репозитория: актуальна ли информация на нём, нет ли чего-то нового, что поменялось, и так далее. 

## Подготовка файлов

В `git` есть концепция области подготовленных файлов. Можно представить ее как холст, на который наносят изменения, которые нужны в коммите. Сперва он пустой, но затем мы добавляем на него файлы (или части файлов, или даже одиночные строчки) командой `add` и, наконец, *коммитим* все нужное в репозиторий (создаем слепок нужного нам состояния) командой `commit`.

## Фиксация изменений
### Как сделать коммит
Для сохранения изменений, их необходимо закоммитить. Но сначала, мы должны обозначить эти файлы для Гита, при помощи команды `git add`, добавляющей (или подготавливающей) их к коммиту. Cоздадим непосредственно сам коммит:

`git commit -m "Added some info"`
Флажок `-m` задаст `c`ommit message` - *комментарий разработчика*. Он необходим для описания закоммиченных изменений. 

### Как посмотреть коммиты
Для просмотра все выполненных фиксаций можно воспользоваться историей коммитов. Она содержит сведения о каждом проведенном коммите проекта. Запросить ее можно при помощи команды:

`git log`

В ней содержится вся информация о каждом отдельном коммите, с указанием его хэша, автора, списка изменений и даты, когда они были сделаны. О

## Удаленные репозитории
Сейчас наш коммит является локальным — существует только в директории `.git` на нашей файловой системе. Несмотря на то, что сам по себе локальный репозиторий полезен, в большинстве случаев мы хотим поделиться нашей работой или доставить код на сервер, где он будет выполняться.

### 1. Что такое удаленный репозиторий
Репозиторий, хранящийся в облаке, на стороннем сервисе, специально созданном для работы с `git` имеет ряд преимуществ. 

Во-первых, это своего рода резервная копия вашего проекта, а во-вторых, в таком репозитории можно пользоваться дополнительными возможностями хостинга.

#### Клонирование
Клонирование - это когда вы копируете удаленный репозиторий к себе на локальный ПК. Это то, с чего обычно начинается любой проект. При этом вы переносите себе все файлы и папки проекта, а также всю его историю с момента его создания. Чтобы склонировать проект, сперва, необходимо узнать где он расположен и скопировать ссылку на него. Создайте свой репозиторий в `GitHub`, `BitBucket` или любом другом сервисе:

`git clone <ссылка>`

При клонировании в текущий каталог, там будет создана папка, в которую поместятся все проектные файлы и скрытая директория `.git`, с самим репозиторием, или с необходимой информацией о нем.

### 2. Подключение к удаленному репозиторию
Чтобы загрузить что-нибудь в удаленный репозиторий, сначала нужно к нему подключиться. Регистрация и установка может занять время. Чтобы связать наш локальный репозиторий с репозиторием на `GitHub`, выполним следующую команду в терминале. 

`$ git remote add origin <ссылка>`

Проект может иметь несколько удаленных репозиториев одновременно. Чтобы их различать, мы дадим им разные имена. Обычно главный репозиторий называется origin.

### 3. Отправка изменений на сервер
Сейчас самое время переслать наш локальный коммит на сервер. Этот процесс происходит каждый раз, когда мы хотим обновить данные в удаленном репозитории.

Команда, предназначенная для этого - `push`. Она принимает два параметра: имя удаленного репозитория (например, `origin`) и ветку, в которую необходимо внести изменения (`master` — это ветка по умолчанию для всех репозиториев).

`$ git push origin master`


Можно назвать `git push` - командой выгрузки, а `git pull` и `git fetch` - командами загрузки или скачивания. После того как вы успешно запушили измененные данные, их необходимо внедрить или интегрировать, при помощи команды слияния `git merge`.

### 4. Запрос изменений с сервера
Если вы сделали изменения в вашем удаленном репозитории, другие пользователи могут скачать изменения при помощи команды `pull`.

## Ветвление
Во время разработки новой функциональности считается хорошей практикой работать с копией оригинального проекта, которую называют веткой. Ветви имеют свою собственную историю и изолированные друг от друга изменения до тех пор, пока вы не решаете слить изменения вместе. Это происходит по набору причин:

* Уже рабочая, стабильная версия кода сохраняется.
* Различные новые функции могут разрабатываться параллельно разными программистами.
* Разработчики могут работать с собственными ветками без риска, что кодовая база поменяется из-за чужих изменений.
* В случае сомнений, различные реализации одной и той же идеи могут быть разработаны в разных ветках и затем сравниваться.
### 1. Создание новой ветки
Основная ветка в каждом репозитории называется `master`. Чтобы создать еще одну ветку, используем команду `git branch <name>`.

### 2. Переключение между ветками
Если мы запустим команду `git branch`, мы увидим список созданных веток. Активная ветка помечена звездочкой. Чтобы переключиться на другую ветку, воспользуемся командой `checkout`, она принимает один параметр — имя ветки, на которую необходимо переключиться.

В `Git` ветка — это отдельная линия разработки. `Git checkout` позволяет нам переключаться как между удаленными, так и меду локальными ветками. Это один из способов получить доступ к работе коллеги или соавтора, обеспечивающий более высокую продуктивность совместной работы. 

### 3. Слияние веток
Переключились обратно на ветку `master`, нужно воспользоваться `git merge` для объединения веток (применения изменений из другой ветки к основной версии проекта).

После объединения веток, другая ветка больше не нужна, и ее можно удалить.

Для этого воспользуйтесь командой `git branch -d <имя ветки>`, где флажок `-d` являющийся опцией команды `git branch` - это сокращенная версия ключевого слова `--delete`, предназначенного для удаления ветки.

Однако тут есть нюанс: удалить текущую ветку, в которую вы, в данный момент просматриваете - нельзя. Так что при удалении ветвей, *обязательно* переключитесь на другой `branch`.

## Дополнительно
В последней части этого руководства мы расскажем о некоторых дополнительных трюках, которые могут вам помочь.

### 1. Отслеживание изменений, сделанных в коммитах
У каждого коммита есть свой уникальный идентификатор в виде строки цифр и букв. Чтобы просмотреть список всех коммитов и их идентификаторов, можно использовать команду `git log`. Идентификаторы довольно длинные, но для работы с ними не обязательно копировать их целиком — первых нескольких символов будет вполне достаточно. 

Чтобы увидеть разницу между двумя коммитами, используется команда `git diff`.

### 2. Возвращение файла к предыдущему состоянию
Гит позволяет вернуть выбранный файл к состоянию на момент определенного коммита. Это делается уже знакомой нам командой `checkout`, которую мы ранее использовали для переключения между ветками. Но она также может быть использована для переключения между коммитами.

### 3. Исправление коммита
Если вы опечатались в комментарии или забыли добавить файл и заметили это сразу после того, как закоммитили изменения, вы легко можете это поправить при помощи `commit —amend`. Эта команда добавит все из последнего коммита в область подготовленных файлов и попытается сделать новый коммит. Это дает вам возможность поправить комментарий или добавить недостающие файлы в область подготовленных файлов.

### 4. Разрешение конфликтов при слиянии
Помимо сценария, описанного в предыдущем пункте, конфликты регулярно возникают при слиянии ветвей. Иногда конфликты исправляются автоматически, но обычно с этим приходится разбираться вручную — решать, какой код остается, а какой нужно удалить.

# Заключение
Вот и все! Краткое руководство окончено.
